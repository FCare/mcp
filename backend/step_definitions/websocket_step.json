{
  "name": "websocket_server",
  "class_name": "WebSocketStep",
  "module_path": "steps.websocket.websocket_step",
  "description": "Serveur WebSocket pour audio et texte bidirectionnel",
  "category": "server",
  "version": "1.0.0",
  "inputs": {
    "type": "text",
    "format": "string",
    "description": "Texte transcrit à renvoyer aux clients WebSocket",
    "metadata": {
      "original_client_id": "string",
      "transcription_type": "string"
    }
  },
  "outputs": {
    "type": "audio",
    "format": "binary",
    "description": "Chunks audio reçus des clients WebSocket",
    "metadata": {
      "client_id": "string",
      "audio_format": "string",
      "sample_rate": "integer",
      "chunk_size": "integer"
    }
  },
  "configuration": {
    "host": {
      "type": "string",
      "default": "0.0.0.0",
      "description": "Interface d'écoute du serveur WebSocket"
    },
    "port": {
      "type": "integer",
      "default": 8765,
      "description": "Port d'écoute du serveur WebSocket"
    },
    "audio_format": {
      "type": "string",
      "default": "pcm16",
      "description": "Format audio attendu des clients",
      "values": ["pcm16", "pcm24", "wav"]
    },
    "sample_rate": {
      "type": "integer",
      "default": 24000,
      "description": "Taux d'échantillonnage audio attendu",
      "values": [16000, 24000, 44100, 48000]
    },
    "mode": {
      "type": "string",
      "default": "audio_to_text",
      "description": "Mode de fonctionnement: audio_to_text ou text_to_audio",
      "values": ["audio_to_text", "text_to_audio"]
    }
  },
  "default_config": {
    "host": "0.0.0.0",
    "port": 8769,
    "mode": "audio_to_text",
    "audio_format": "pcm16",
    "sample_rate": 24000
  },
  "requirements": {
    "cpu": "medium",
    "memory": "medium",
    "network": "required",
    "latency": "low"
  },
  "error_conditions": [
    "port_already_in_use",
    "websocket_connection_failed",
    "invalid_audio_format",
    "client_disconnection"
  ],
  "capabilities": {
    "bidirectional": true,
    "multiple_clients": true,
    "real_time": true,
    "streaming": true
  }
}